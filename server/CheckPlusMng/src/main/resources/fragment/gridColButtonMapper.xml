<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.peelknight.fragment.mybatis.gridcolbuttonMapper">
	<select id="selectGridColButton" resultType="kr.peelknight.fragment.model.CM_GridColButton"
			statementType="PREPARED" parameterType="java.util.Map">
		SELECT idKey, gridIdKey, colIdKey, preSet, iconCls, 
			   callback, orderSeq
		  FROM CM_GridColButton
		 WHERE idKey <![CDATA[ > ]]> 0
		<if test="idKey != null">
		   AND idKey = #{idKey}
		</if>
		<if test="gridIdKey != null">
		   AND gridIdKey = #{gridIdKey}
		</if>
		<if test="colIdKey != null">
		   AND colIdKey = #{colIdKey}
		</if>
		<if test="offset != null and size != null">
		 LIMIT ${offset}, ${size}
		</if>
	</select>

	<select id="selectGridColButtonPaging" resultType="kr.peelknight.common.model.CM_Paging"
			statementType="PREPARED" parameterType="java.util.Map">
		SELECT COUNT(idKey) as totalCount
		  FROM CM_GridColButton
		 WHERE idKey <![CDATA[ > ]]> 0
		<if test="idKey != null">
		   AND idKey = #{idKey}
		</if>
		<if test="gridIdKey != null">
		   AND gridIdKey = #{gridIdKey}
		</if>
		<if test="colIdKey != null">
		   AND colIdKey = #{colIdKey}
		</if>
	</select>

	<insert id="insertGridColButton" parameterType="kr.peelknight.fragment.model.CM_GridColButton"
		statementType="PREPARED" useGeneratedKeys="true" keyProperty="idKey">
		INSERT INTO CM_GridColButton (
			gridIdKey, colIdKey, preSet, iconCls, callback,
			orderSeq
		) VALUES (
			#{gridIdKey}, #{colIdKey}, #{preSet}, #{iconCls}, #{callback},
			#{orderSeq}
		)
	</insert>

	<update id="updateGridColButton" parameterType="kr.peelknight.fragment.model.CM_GridColButton">
		UPDATE CM_GridColButton SET
			   gridIdKey = #{gridIdKey},
			   colIdKey = #{colIdKey},
			   preSet = #{preSet},
			   iconCls = #{iconCls},
			   callback = #{callback},
			   orderSeq = #{orderSeq}
		 WHERE idKey = #{idKey}
	</update>

	<delete id="deleteGridColButton" parameterType="kr.peelknight.fragment.model.CM_GridColButton">
		DELETE FROM CM_GridColButton
		 WHERE idKey = #{idKey}
	</delete>
	
	<delete id="deleteGridColButtons" parameterType="kr.peelknight.fragment.model.CM_GridColModel">
		DELETE FROM CM_GridColButton
		 WHERE gridIdKey = #{gridIdKey}
		   AND colIdKey = #{idKey}
	</delete>
	
</mapper>